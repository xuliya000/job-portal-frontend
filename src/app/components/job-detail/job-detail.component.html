<div class="container mt-5" *ngIf="job" style="max-width: 800px;">
    <div class="card shadow rounded-4 border-0">
        <div class="card-header bg-primary text-white">
            <h2 class="mb-0">{{ job.title }}</h2>
            <small class="fst-italic">{{ job.companyName }}</small>
        </div>

        <div class="card-body">
        <div class="mb-3">
            <strong>Location:</strong> {{ job.location }}
        </div>

        <div class="mb-3 d-flex flex-wrap gap-3">
            <span class="badge bg-info text-dark">
                <i class="bi bi-briefcase-fill"></i> {{ job.type }}
            </span>
            <span class="badge bg-secondary">
                <i class="bi bi-person-badge-fill"></i> {{ job.experienceLevel }}
            </span>
        </div>

        <hr />

        <section class="mb-4">
            <h5>Description</h5>
            <p>{{ job.description }}</p>
        </section>

        <div *ngIf="job.responsibilities">
            <strong>Responsibilities:</strong>
            <ul>
                <li *ngFor="let resp of job.responsibilities.split(';')">
                    {{ resp.trim() }}
                </li>
            </ul>
        </div>
        
        <div *ngIf="job.qualifications">
            <strong>Qualifications:</strong>
            <ul>
                <li *ngFor="let qual of job.qualifications.split(',')">
                    {{ qual.trim() }}
                </li>
            </ul>
        </div>

        <section class="mb-4">
            <h5>Salary Range</h5>
            <p>â‚¬{{ job.salaryMin }} - â‚¬{{ job.salaryMax }}</p>
        </section>

        <section>
            <h6 class="text-muted">Posted on: {{ job.createdDate | date:'longDate' }}</h6>
        </section>

        <section class="mb-4">
            <h6 class="text-muted fst-italic mb-0">
              <span *ngIf="job && job.applicationCount === 0">
                ðŸ”¥ Be the first to apply and make an impact!
              </span>
              <span *ngIf="job && job.applicationCount && job.applicationCount > 0">
                ðŸ“© {{ job.applicationCount }} {{ job.applicationCount === 1 ? 'application' : 'applications' }}
              </span>
            </h6>
          </section>
        </div>
    
        <!-- Card footer en dehors du card-body -->
        <div class="card-footer text-end border-top-0 d-flex justify-content-between flex-wrap gap-2">
          <a routerLink="/" class="btn btn-secondary">Back to Jobs</a>
          <a [routerLink]="['/apply', job.id]" class="btn btn-warning text-dark">Apply Now</a>
        </div>
    </div>
</div>
